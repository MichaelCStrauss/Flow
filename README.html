<!doctype html>
<html>
<head>
<meta charset='UTF-8'><meta name='viewport' content='width=device-width initial-scale=1'>
<title>README</title><link href='ursine-umbra.css' rel='stylesheet' type='text/css' />
<link href='ursine/code-3024-day.css' rel='stylesheet' type='text/css' /><style type='text/css'>html {overflow-x: initial !important;}:root { --bg-color:#ffffff; --text-color:#333333; --select-text-bg-color:#B5D6FC; --select-text-font-color:auto; --monospace:"Lucida Console",Consolas,"Courier",monospace; }
html { font-size: 14px; background-color: var(--bg-color); color: var(--text-color); font-family: "Helvetica Neue", Helvetica, Arial, sans-serif; -webkit-font-smoothing: antialiased; }
body { margin: 0px; padding: 0px; height: auto; bottom: 0px; top: 0px; left: 0px; right: 0px; font-size: 1rem; line-height: 1.42857; overflow-x: hidden; background: inherit; tab-size: 4; }
iframe { margin: auto; }
a.url { word-break: break-all; }
a:active, a:hover { outline: 0px; }
.in-text-selection, ::selection { text-shadow: none; background: var(--select-text-bg-color); color: var(--select-text-font-color); }
#write { margin: 0px auto; height: auto; width: inherit; word-break: normal; word-wrap: break-word; position: relative; white-space: normal; overflow-x: visible; padding-top: 40px; }
#write.first-line-indent p { text-indent: 2em; }
#write.first-line-indent li p, #write.first-line-indent p * { text-indent: 0px; }
#write.first-line-indent li { margin-left: 2em; }
.for-image #write { padding-left: 8px; padding-right: 8px; }
body.typora-export { padding-left: 30px; padding-right: 30px; }
.typora-export .footnote-line, .typora-export li, .typora-export p { white-space: pre-wrap; }
@media screen and (max-width: 500px) {
  body.typora-export { padding-left: 0px; padding-right: 0px; }
  #write { padding-left: 20px; padding-right: 20px; }
  .CodeMirror-sizer { margin-left: 0px !important; }
  .CodeMirror-gutters { display: none !important; }
}
#write li > figure:first-child { margin-top: -20px; }
#write ol, #write ul { position: relative; }
img { max-width: 100%; vertical-align: middle; }
button, input, select, textarea { color: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; line-height: inherit; font-family: inherit; }
input[type="checkbox"], input[type="radio"] { line-height: normal; padding: 0px; }
*, ::after, ::before { box-sizing: border-box; }
#write h1, #write h2, #write h3, #write h4, #write h5, #write h6, #write p, #write pre { width: inherit; }
#write h1, #write h2, #write h3, #write h4, #write h5, #write h6, #write p { position: relative; }
h1, h2, h3, h4, h5, h6 { break-after: avoid-page; break-inside: avoid; orphans: 2; }
p { orphans: 4; }
h1 { font-size: 2rem; }
h2 { font-size: 1.8rem; }
h3 { font-size: 1.6rem; }
h4 { font-size: 1.4rem; }
h5 { font-size: 1.2rem; }
h6 { font-size: 1rem; }
.md-math-block, .md-rawblock, h1, h2, h3, h4, h5, h6, p { margin-top: 1rem; margin-bottom: 1rem; }
.hidden { display: none; }
.md-blockmeta { color: rgb(204, 204, 204); font-weight: 700; font-style: italic; }
a { cursor: pointer; }
sup.md-footnote { padding: 2px 4px; background-color: rgba(238, 238, 238, 0.7); color: rgb(85, 85, 85); border-radius: 4px; cursor: pointer; }
sup.md-footnote a, sup.md-footnote a:hover { color: inherit; text-transform: inherit; text-decoration: inherit; }
#write input[type="checkbox"] { cursor: pointer; width: inherit; height: inherit; }
figure { overflow-x: auto; margin: 1.2em 0px; max-width: calc(100% + 16px); padding: 0px; }
figure > table { margin: 0px !important; }
tr { break-inside: avoid; break-after: auto; }
thead { display: table-header-group; }
table { border-collapse: collapse; border-spacing: 0px; width: 100%; overflow: auto; break-inside: auto; text-align: left; }
table.md-table td { min-width: 32px; }
.CodeMirror-gutters { border-right: 0px; background-color: inherit; }
.CodeMirror-linenumber { user-select: none; }
.CodeMirror { text-align: left; }
.CodeMirror-placeholder { opacity: 0.3; }
.CodeMirror pre { padding: 0px 4px; }
.CodeMirror-lines { padding: 0px; }
div.hr:focus { cursor: none; }
#write pre { white-space: pre-wrap; }
#write.fences-no-line-wrapping pre { white-space: pre; }
#write pre.ty-contain-cm { white-space: normal; }
.CodeMirror-gutters { margin-right: 4px; }
.md-fences { font-size: 0.9rem; display: block; break-inside: avoid; text-align: left; overflow: visible; white-space: pre; background: inherit; position: relative !important; }
.md-diagram-panel { width: 100%; margin-top: 10px; text-align: center; padding-top: 0px; padding-bottom: 8px; overflow-x: auto; }
#write .md-fences.mock-cm { white-space: pre-wrap; }
.md-fences.md-fences-with-lineno { padding-left: 0px; }
#write.fences-no-line-wrapping .md-fences.mock-cm { white-space: pre; overflow-x: auto; }
.md-fences.mock-cm.md-fences-with-lineno { padding-left: 8px; }
.CodeMirror-line, twitterwidget { break-inside: avoid; }
.footnotes { opacity: 0.8; font-size: 0.9rem; margin-top: 1em; margin-bottom: 1em; }
.footnotes + .footnotes { margin-top: 0px; }
.md-reset { margin: 0px; padding: 0px; border: 0px; outline: 0px; vertical-align: top; background: 0px 0px; text-decoration: none; text-shadow: none; float: none; position: static; width: auto; height: auto; white-space: nowrap; cursor: inherit; -webkit-tap-highlight-color: transparent; line-height: normal; font-weight: 400; text-align: left; box-sizing: content-box; direction: ltr; }
li div { padding-top: 0px; }
blockquote { margin: 1rem 0px; }
li .mathjax-block, li p { margin: 0.5rem 0px; }
li { margin: 0px; position: relative; }
blockquote > :last-child { margin-bottom: 0px; }
blockquote > :first-child, li > :first-child { margin-top: 0px; }
.footnotes-area { color: rgb(136, 136, 136); margin-top: 0.714rem; padding-bottom: 0.143rem; white-space: normal; }
#write .footnote-line { white-space: pre-wrap; }
@media print {
  body, html { border: 1px solid transparent; height: 99%; break-after: avoid; break-before: avoid; }
  #write { margin-top: 0px; padding-top: 0px; border-color: transparent !important; }
  .typora-export * { -webkit-print-color-adjust: exact; }
  html.blink-to-pdf { font-size: 13px; }
  .typora-export #write { padding-left: 32px; padding-right: 32px; padding-bottom: 0px; break-after: avoid; }
  .typora-export #write::after { height: 0px; }
  @page { margin: 20mm 0px; }
}
.footnote-line { margin-top: 0.714em; font-size: 0.7em; }
a img, img a { cursor: pointer; }
pre.md-meta-block { font-size: 0.8rem; min-height: 0.8rem; white-space: pre-wrap; background: rgb(204, 204, 204); display: block; overflow-x: hidden; }
p > .md-image:only-child:not(.md-img-error) img, p > img:only-child { display: block; margin: auto; }
p > .md-image:only-child { display: inline-block; width: 100%; }
#write .MathJax_Display { margin: 0.8em 0px 0px; }
.md-math-block { width: 100%; }
.md-math-block:not(:empty)::after { display: none; }
[contenteditable="true"]:active, [contenteditable="true"]:focus { outline: 0px; box-shadow: none; }
.md-task-list-item { position: relative; list-style-type: none; }
.task-list-item.md-task-list-item { padding-left: 0px; }
.md-task-list-item > input { position: absolute; top: 0px; left: 0px; margin-left: -1.2em; margin-top: calc(1em - 10px); border: none; }
.math { font-size: 1rem; }
.md-toc { min-height: 3.58rem; position: relative; font-size: 0.9rem; border-radius: 10px; }
.md-toc-content { position: relative; margin-left: 0px; }
.md-toc-content::after, .md-toc::after { display: none; }
.md-toc-item { display: block; color: rgb(65, 131, 196); }
.md-toc-item a { text-decoration: none; }
.md-toc-inner:hover { text-decoration: underline; }
.md-toc-inner { display: inline-block; cursor: pointer; }
.md-toc-h1 .md-toc-inner { margin-left: 0px; font-weight: 700; }
.md-toc-h2 .md-toc-inner { margin-left: 2em; }
.md-toc-h3 .md-toc-inner { margin-left: 4em; }
.md-toc-h4 .md-toc-inner { margin-left: 6em; }
.md-toc-h5 .md-toc-inner { margin-left: 8em; }
.md-toc-h6 .md-toc-inner { margin-left: 10em; }
@media screen and (max-width: 48em) {
  .md-toc-h3 .md-toc-inner { margin-left: 3.5em; }
  .md-toc-h4 .md-toc-inner { margin-left: 5em; }
  .md-toc-h5 .md-toc-inner { margin-left: 6.5em; }
  .md-toc-h6 .md-toc-inner { margin-left: 8em; }
}
a.md-toc-inner { font-size: inherit; font-style: inherit; font-weight: inherit; line-height: inherit; }
.footnote-line a:not(.reversefootnote) { color: inherit; }
.md-attr { display: none; }
.md-fn-count::after { content: "."; }
code, pre, samp, tt { font-family: var(--monospace); }
kbd { margin: 0px 0.1em; padding: 0.1em 0.6em; font-size: 0.8em; color: rgb(36, 39, 41); background: rgb(255, 255, 255); border: 1px solid rgb(173, 179, 185); border-radius: 3px; box-shadow: rgba(12, 13, 14, 0.2) 0px 1px 0px, rgb(255, 255, 255) 0px 0px 0px 2px inset; white-space: nowrap; vertical-align: middle; }
.md-comment { color: rgb(162, 127, 3); opacity: 0.8; font-family: var(--monospace); }
code { text-align: left; vertical-align: initial; }
a.md-print-anchor { white-space: pre !important; border-width: initial !important; border-style: none !important; border-color: initial !important; display: inline-block !important; position: absolute !important; width: 1px !important; right: 0px !important; outline: 0px !important; background: 0px 0px !important; text-decoration: initial !important; text-shadow: initial !important; }
.md-inline-math .MathJax_SVG .noError { display: none !important; }
.html-for-mac .inline-math-svg .MathJax_SVG { vertical-align: 0.2px; }
.md-math-block .MathJax_SVG_Display { text-align: center; margin: 0px; position: relative; text-indent: 0px; max-width: none; max-height: none; min-height: 0px; min-width: 100%; width: auto; overflow-y: hidden; display: block !important; }
.MathJax_SVG_Display, .md-inline-math .MathJax_SVG_Display { width: auto; margin: inherit; display: inline-block !important; }
.MathJax_SVG .MJX-monospace { font-family: var(--monospace); }
.MathJax_SVG .MJX-sans-serif { font-family: sans-serif; }
.MathJax_SVG { display: inline; font-style: normal; font-weight: 400; line-height: normal; zoom: 90%; text-indent: 0px; text-align: left; text-transform: none; letter-spacing: normal; word-spacing: normal; word-wrap: normal; white-space: nowrap; float: none; direction: ltr; max-width: none; max-height: none; min-width: 0px; min-height: 0px; border: 0px; padding: 0px; margin: 0px; }
.MathJax_SVG * { transition: none; }
.MathJax_SVG_Display svg { vertical-align: middle !important; margin-bottom: 0px !important; }
.os-windows.monocolor-emoji .md-emoji { font-family: "Segoe UI Symbol", sans-serif; }
.md-diagram-panel > svg { max-width: 100%; }
[lang="mermaid"] svg, [lang="flow"] svg { max-width: 100%; }
[lang="mermaid"] .node text { font-size: 1rem; }
table tr th { border-bottom: 0px; }
video { max-width: 100%; display: block; margin: 0px auto; }
iframe { max-width: 100%; width: 100%; border: none; }
.highlight td, .highlight tr { border: 0px; }


.cm-s-inner { padding: 0.5rem 0.2rem; border-radius: 0.25rem; border: 1px solid var(--accent-color)  !important; }
.cm-s-inner.CodeMirror, .cm-s-inner .CodeMirror-gutters { border: none; background-color: rgb(40, 42, 54) !important; color: rgb(248, 248, 242) !important; }
.cm-s-inner .CodeMirror-gutters { width: 5ch; color: rgb(40, 42, 54); }
.cm-s-inner .CodeMirror-cursor { border-left: thin solid rgb(248, 248, 242) !important; }
.cm-s-inner .CodeMirror-linenumber { color: rgb(109, 138, 136); width: 4ch !important; }
.cm-s-inner .CodeMirror-line::selection, .cm-s-inner .CodeMirror-line > span::selection, .cm-s-inner .CodeMirror-line > span > span::selection { background: rgba(255, 255, 255, 0.1); }
.cm-s-inner span.cm-comment { color: rgb(98, 114, 164); }
.cm-s-inner span.cm-string, .cm-s-inner span.cm-string-2 { color: rgb(241, 250, 140); }
.cm-s-inner span.cm-number { color: rgb(189, 147, 249); }
.cm-s-inner span.cm-variable, .cm-s-inner span.cm-variable-2 { color: rgb(80, 250, 123); }
.cm-s-inner span.cm-def { color: white; }
.cm-s-inner span.cm-operator { color: rgb(255, 121, 198); }
.cm-s-inner span.cm-keyword { color: rgb(255, 121, 198); }
.cm-s-inner span.cm-atom { color: rgb(189, 147, 249); }
.cm-s-inner span.cm-meta { color: rgb(248, 248, 242); }
.cm-s-inner span.cm-tag { color: rgb(255, 121, 198); }
.cm-s-inner span.cm-attribute { color: rgb(80, 250, 123); }
.cm-s-inner span.cm-qualifier { color: rgb(80, 250, 123); }
.cm-s-inner span.cm-property { color: rgb(102, 217, 239); }
.cm-s-inner span.cm-builtin { color: rgb(80, 250, 123); }
.cm-s-inner span.cm-variable-3, .cm-s-inner span.cm-type { color: rgb(255, 184, 108); }
.cm-s-inner .CodeMirror-activeline-background { background: rgba(255, 255, 255, 0.1); }
.cm-s-inner .CodeMirror-matchingbracket { text-decoration: underline; color: white !important; }
.CodeMirror-selectedtext, .CodeMirror-selected { text-shadow: none; background: rgb(49, 55, 70) !important; }


:root { --bg-color: #1e2022; --text-color: #dddddd; --md-char-color: #5b5b5b; --meta-content-color: #757575; --link-color: #6bcafb; --primary-color: #428bca; --primary-btn-border-color: #285e8e; --primary-btn-text-color: #fff; --accent-color: #3c3c3c; --window-border: 1px solid #16161a; --active-file-bg-color: #16161a; --active-file-text-color: inherit; --active-file-border-color: #777; --active-search-item-bg-color: #212121; --side-bar-bg-color: #2b2b2b; --item-hover-bg-color: var(--bg-color); --item-hover-text-color: white; --search-hit-bg-color: #428bca40; --search-select-text-color: var(--text-color); --search-select-bg-color: #428bca90; --rawblock-edit-panel-bd: var(--accent-color); --monospace: "Cousine"; --megamenu-bg-color: var(--side-bar-bg-color); --megamenu-sidebar-bg-color: var(--bg-color); --megamenu-sidebar-hover-bg-color: #161819; --megamenu-sidebar-active-bg-color: #101010; --megamenu-button-border-color: #9292928f; --megamenu-item-hover-bg-color: var(--bg-color); --megamenu-item-hover-text-color: white; }
html, body { font-family: "Avenir Next LT Pro", Lato, sans-serif; }
body { font-size: 14px; }
h1, h2, h3, h4, h5, h6 { font-family: Adelle; }
h1 { font-size: 1.8rem; margin: 1rem 0px; }
h2 { font-size: 1.4rem; margin: 0.7rem 0px; }
h3 { font-size: 1.2rem; margin: 0.5rem 0px; }
h4 { font-size: 1.1rem; margin: 0.2rem 0px; }
h5 { font-size: 1rem; margin: 0px; }
h6 { font-size: 1rem; margin: 0px; }
p { margin: 0.5rem 0px; }
a { color: var(--link-color); }
del { color: var(--md-char-color); }
mark { padding: 2px 1px; background: rgb(254, 228, 5); }
#write { line-height: 1.6; }
#write ol, #write ul { padding-left: 2rem; margin: 0.5rem 0px; }
#write ul { list-style-type: disc; }
#write ol > li, #write ul > li { color: var(--primary-color); padding-left: 0.25em; }
#write ol li > *, #write ul li > * { color: var(--text-color); }
#write .md-task-list-item { transition: all 0.3s; }
#write .md-task-list-item > input { -webkit-appearance: initial; display: block; position: absolute; border: 1px solid var(--md-char-color); border-radius: 0.25rem; margin-top: 0.1rem; margin-left: -1.8rem; height: 1.2rem; width: 1.2rem; transition: background 0.4s; }
#write .md-task-list-item > input:focus { outline: none; box-shadow: none; }
#write .md-task-list-item > input:hover { background: var(--accent-color); }
#write .md-task-list-item.task-list-done > p { color: var(--md-char-color); text-decoration: line-through; }
#write .md-task-list-item > input[checked]::before { content: ""; position: absolute; top: 20%; left: 50%; height: 60%; width: 2px; transform: rotate(40deg); background: var(--text-color); }
#write .md-task-list-item > input[checked]::after { content: ""; position: absolute; top: 46%; left: 25%; height: 30%; width: 2px; transform: rotate(-40deg); background: var(--text-color); }
blockquote { margin: 1rem 0px 1rem 2rem; font-family: Adelle; }
blockquote p::before { content: ""; position: absolute; left: -2rem; height: 100%; width: 0.25rem; background: var(--primary-color); }
blockquote p:not(:last-child)::before { height: calc(100% + 1rem); }
code, .md-fences, tt { font-family: Cousine, monospace; font-size: 1rem; }
code { border: 1px solid var(--accent-color); border-radius: 0.25rem; padding: 0px 0.125rem; }
#fences-auto-suggest .active { background: var(--accent-color); }
hr { border-color: var(--md-char-color); }
pre.md-meta-block { background-color: transparent; border-bottom: 1px solid var(--md-char-color); padding-bottom: 1rem; opacity: 0.8; }
table { border: 1px solid var(--md-char-color); margin: 1rem 0px; }
thead { background: rgb(77, 77, 77); }
table tr:nth-child(2n) { background: var(--accent-color); }
td, th { padding: 0.35rem 0.7rem; border: 1px solid var(--md-char-color); }
.md-table-edit { border-top: 1px solid var(--meta-content-color); padding: 3px 0px; margin-top: -29px !important; }
.typora-table-drag-area::after { content: ""; position: absolute; border: 2px solid var(--text-color); opacity: 0; transition: opacity 0.4s; }
#typora-table-row-tracker .typora-table-drag-area::after { top: 0px; left: 50%; transform: translateX(-50%); width: 0px; height: 100%; }
#typora-table-col-tracker .typora-table-drag-area::after { top: 50%; left: 0px; transform: translateY(-50%); width: 100%; height: 0px; }
#typora-table-row-tracker .typora-table-drag-area:hover::after, #typora-table-col-tracker .typora-table-drag-area:hover::after { opacity: 1; }
.md-toc-tooltip { z-index: 10; }
span.md-toc-item { font-size: 1.1rem; color: var(--primary-btn-border-color); }
span.md-toc-h1 { font-family: Adelle; font-size: 1.3rem; }
span.md-toc-h2 { font-size: 1.2rem; }
sup.md-footnote { font-family: Adelle; font-size: 0.8rem; padding: 0px 4px; }
span.md-def-split { min-width: 1ch; }
.md-def-name::before, .md-def-name::after { color: var(--meta-content-color); }
#write { width: 90%; max-width: 700px; }
#write h1, #write h2, #write h3, #write h4, #write h5, #write h6, #write p, #write pre { width: auto; }
#write h3.md-focus::before, #write h4.md-focus::before, #write h5.md-focus::before, #write h6.md-focus::before { border: none; border-radius: 0px; left: auto; float: none; padding: 0px; vertical-align: baseline; line-height: 20px; }
#write h1::before, #write h2::before, #write h3::before, #write h4::before, #write h5::before, #write h6::before { position: absolute; top: 0px; right: calc(100% + 10px); color: var(--md-char-color); font-size: 1rem; font-weight: bold; }
#write h1::before { content: "H1"; top: 0.7rem; }
#write h2::before { content: "H2"; top: 0.37rem; }
#write h3::before { content: "H3"; top: 0.15rem; }
#write h4::before { content: "H4"; }
#write h5::before { content: "H5"; }
#write h6::before { content: "H6"; }
#write .md-image > .md-meta { color: var(--meta-content-color); }
.md-rawblock-tooltip { top: -1.5rem; height: 1.5rem; padding: 0.25rem; }
.md-search-hit { background: var(--search-hit-bg-color); border-radius: 0.125em; }
.md-search-select { background: var(--search-select-bg-color); border: 1px solid var(--megamenu-button-border-color); padding: 0px 1px; }
.on-focus-mode .md-end-block:not(.md-focus):not(.md-focus-container) *, .on-focus-mode pre.md-end-block:not(.md-focus):not(.md-focus-container) { color: var(--md-char-color)  !important; }
.on-focus-mode .md-end-block:not(.md-focus):not(.md-focus-container) img, .on-focus-mode blockquote .md-end-block:not(.md-focus):not(.md-focus-container)::before, .on-focus-mode li:not(.md-focus-container)::before { opacity: 0.5; }
.on-focus-mode .md-end-block:not(.md-focus):not(.md-focus-container) mark { background: var(--accent-color); }
#typora-sidebar { border-right: 1px solid rgb(25, 25, 28); }
.sidebar-tabs { font-family: Adelle; border-bottom: 1px solid black; }
.file-list-item-file-name { font-family: Adelle; font-size: 1.2rem; }
input.file-list-item-file-name, input.file-tree-rename-input { background: var(--side-bar-bg-color); }
#file-library-search .file-list-item-file-name { font-size: 1.1rem; }
#file-library-search .ty-search-item.active { background: var(--active-search-item-bg-color); }
#file-library-search-input { background: var(--side-bar-bg-color); }
.file-list-item-summary, .ty-search-item-line { font-family: "Avenir Next LT Pro", Lato, sans-serif; }
.ty-file-search-match-text, .ty-outline-hit { font-weight: bold; background: transparent; }
#outline-content { line-height: 1.4em; }
#outline-content .outline-h1 > .outline-item { font-family: Adelle; }
.file-library-node, .file-library-node .file-node-background { transition: background 0.4s; }
.file-tree-node.file-library-file-node:not(.active):hover .file-node-background, .file-list-item.file-library-node:not(.active):hover { background: var(--item-hover-bg-color); }
.file-tree-node.file-library-file-node.active .file-node-background, .file-list-item.file-library-file-node.active { border-left: 5px solid var(--primary-color); }
.blink-area { animation: none; }
#ty-sidebar-footer { border-top: 1px solid black; }
.sidebar-footer-item { transition: background 0.3s; }
.outline-title-wrapper, .outline-item-wrapper.outline-h1 > .outline-item { font-family: Adelle; font-weight: bold; }
ul.dropdown-menu li.active a, ul.dropdown-menu li.has-extra-menu.active a, ul.dropdown-menu li.has-btn-submenu a.menu-style-btn.active, #footer-word-count-info .ty-footer-word-count-all tr:hover, #ty-spell-check-dict-missing-menu li:hover, .ty-spell-check-panel-item.ty-active, .ty-spell-check-panel-item:hover { background: var(--text-color)  !important; color: var(--bg-color)  !important; }
footer.ty-footer { border-top: 0px; }
.footer-item:hover { background: var(--text-color)  !important; color: var(--bg-color)  !important; }
.form-control:focus { border-color: var(--primary-color); box-shadow: inset 0 1px 1px rgba(0,0,0,0.075), 0 0 2px var(--primary-color); }
.megamenu-opened header { background-image: none; }
#top-titlebar, #top-titlebar * { color: inherit; }
#megamenu-content { padding-top: 28px; background: var(--megamenu-bg-color); color: var(--text-color); }
.megamenu-menu-panel:not(:first-of-type) { margin-top: 48px; }
#megamenu-content .long-btn { border-color: var(--megamenu-button-border-color); transition: all 0.4s; }
#megamenu-content .long-btn:hover { border-color: var(--primary-color); background: var(--megamenu-item-hover-bg-color); color: var(--megamenu-item-hover-text-color)  !important; }
#recent-file-panel-action-btn { background: inherit; border-color: var(--megamenu-button-border-color); transition: all 0.4s; }
#recent-file-panel-action-btn:hover { border-color: var(--primary-color); background: var(--megamenu-item-hover-bg-color); color: var(--megamenu-item-hover-text-color); }
#recent-document-table { border: 1px solid var(--accent-color); }
#recent-file-panel tbody tr:nth-child(2n-1) { background-color: inherit; }
#recent-file-panel tbody tr:hover { background-color: var(--megamenu-item-hover-bg-color)  !important; }
#recent-file-panel tbody tr:hover td:nth-child(1) { color: var(--megamenu-item-hover-text-color); }
#megamenu-menu-sidebar { background: var(--megamenu-sidebar-bg-color); color: var(--text-color); }
.megamenu-menu-header, .megamenu-menu-list li:not(.saved) a { transition: all 0.4s; }
.megamenu-menu-header { border-bottom: var(--window-border); }
.megamenu-menu-header:hover, .megamenu-menu-list li:not(.saved) a:not(.active):hover { background: var(--megamenu-sidebar-hover-bg-color); }
.megamenu-menu-list li a.active { background: var(--megamenu-sidebar-active-bg-color)  !important; }
#m-saved { background: inherit; color: inherit; }
#megamenu-menu-list { margin: 0px; }
.theme-preview-div { transition: all 0.4s; }
.theme-preview-div:hover { border: 4px solid var(--primary-btn-border-color); }
.theme-preview-div.active, .theme-preview-div.active:hover { border: 4px solid var(--primary-color); }
.theme-preview-div.active i { color: var(--primary-color); }
.cm-s-typora-default .cm-s-inner.CodeMirror-line { border: 0px !important; }
@media print {
  #write ol > li, #write ul > li { color: var(--text-color); }
}


.cm-s-inner.CodeMirror, .cm-s-inner .CodeMirror-gutters { background: rgb(247, 247, 247) !important; color: rgb(58, 52, 50) !important; }
.cm-s-inner .CodeMirror-cursor { border-left: thin solid rgb(58, 52, 50) !important; }
.cm-s-inner .CodeMirror-line::selection, .cm-s-inner .CodeMirror-line > span::selection, .cm-s-inner .CodeMirror-line > span > span::selection { background: rgb(214, 213, 212); }
.cm-s-inner .CodeMirror-gutters { background: rgb(247, 247, 247); border-right: 0px; }
.cm-s-inner .CodeMirror-guttermarker { color: rgb(219, 45, 32); }
.cm-s-inner .CodeMirror-guttermarker-subtle { color: rgb(128, 125, 124); }
.cm-s-inner .CodeMirror-linenumber { color: rgb(128, 125, 124); }
.cm-s-inner .CodeMirror-cursor { border-left: 1px solid rgb(92, 88, 85); }
.cm-s-inner span.cm-comment { color: rgb(205, 171, 83); }
.cm-s-inner span.cm-atom { color: rgb(161, 106, 148); }
.cm-s-inner span.cm-meta { color: inherit; }
.cm-s-inner span.cm-number { color: rgb(161, 106, 148); }
.cm-s-inner span.cm-property, .cm-s-inner span.cm-attribute { color: rgb(1, 162, 82); }
.cm-s-inner span.cm-keyword { color: rgb(219, 45, 32); }
.cm-s-inner span.cm-string { color: rgb(242, 176, 29); }
.cm-s-inner span.cm-variable { color: rgb(1, 162, 82); }
.cm-s-inner span.cm-variable-2 { color: rgb(1, 160, 228); }
.cm-s-inner span.cm-def { color: rgb(232, 187, 208); }
.cm-s-inner span.cm-bracket { color: rgb(58, 52, 50); }
.cm-s-inner span.cm-tag { color: rgb(219, 45, 32); }
.cm-s-inner span.cm-link { color: rgb(161, 106, 148); }
.cm-s-inner span.cm-error { background: rgb(219, 45, 32); color: rgb(92, 88, 85); }
.cm-s-inner .CodeMirror-activeline-background { background: rgb(232, 242, 255); }
.cm-s-inner .CodeMirror-matchingbracket { text-decoration: underline; color: rgb(161, 106, 148) !important; }
.CodeMirror-selectedtext, .CodeMirror-selected { background: rgb(244, 219, 219) !important; }


:root { --bg-color: #fbfbfb; --text-color: #333333; --md-char-color: #b4b4b4; --meta-content-color: #757575; --link-color: #db4d52; --primary-color: #db4d52; --primary-btn-border-color: #be2f34; --primary-btn-text-color: #000; --accent-color: #d0d0d0; --window-border: 1px solid #16161a; --active-file-bg-color: #16161a; --active-file-text-color: inherit; --active-file-border-color: #777; --active-search-item-bg-color: #23242b; --side-bar-bg-color: #2e3235; --item-hover-bg-color: #202020; --item-hover-text-color: white; --search-hit-bg-color: #db4d5230; --search-select-text-color: var(--text-color); --search-select-bg-color: #db4d5270; --rawblock-edit-panel-bd: var(--accent-color); --monospace: "Cousine"; --megamenu-bg-color: var(--bg-color); --megamenu-sidebar-bg-color: var(--side-bar-bg-color); --megamenu-sidebar-hover-bg-color: #161819; --megamenu-sidebar-active-bg-color: #101010; --megamenu-button-border-color: #9292928f; --megamenu-item-hover-bg-color: #e6e6e6; --megamenu-item-hover-text-color: #222222; }
mark { background: rgb(173, 254, 150); }
code { background: rgb(247, 247, 247); }
thead { background: rgb(208, 208, 208); }
table tr:nth-child(2n) { background: rgb(230, 230, 230); }
sup.md-footnote { background: rgb(221, 221, 221); }
#typora-sidebar * { color: var(--bg-color); }
#megamenu-menu-sidebar, .megamenu-menu-list li:not(.saved) a:not(.active):hover, .megamenu-menu-list li a.active { color: var(--bg-color)  !important; }





 .typora-export li, .typora-export p, .typora-export,  .footnote-line {white-space: normal;} 
</style>
</head>
<body class='typora-export' >
<div  id='write'  class = 'is-node'><h1><a name='header-n0' class='md-header-anchor '></a>Flow: A simple library for fluid simulation</h1><p>This small library implements the Smoothed Particle Hydrodynamics model of fluid dynamics described by <a href='http://matthias-mueller-fischer.ch/publications/sca03.pdf'>Matthias Muller et al (2003)</a>. Fluids are simulated in real-time, suitable for interactive applications such as video games. </p><h2><a name='header-n4' class='md-header-anchor '></a>Demo</h2><p>A short video demonstrating the fluid, boundary conditions, and rendering using marching squares or the debug render (density):</p><h3><a name='header-n6' class='md-header-anchor '></a><a href='https://streamable.com/daxli'>High Quality on Streamable</a></h3><p><img src='https://thumbs.gfycat.com/VapidNippyIsabellineshrike-size_restricted.gif' alt='demo gif' referrerPolicy='no-referrer' /></p><p>&nbsp;</p><h2><a name='header-n41' class='md-header-anchor '></a>Introduction</h2><p>Smoothed Particle Hydrodynamics is a Lagrangian method for simulating the movement and interactions of fluids. Unlike Eulerian grid-based approaches, SPH discretises a fluid into distinct particles.</p><p>SPH determines a quantity of the underlying field, such as density or pressure, by summing the contributions of all particles weighted by a smoothing function, <span class="MathJax_SVG" tabindex="-1" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="8.934ex" height="3.521ex" viewBox="0 -1185.2 3846.7 1515.9" role="img" focusable="false" style="vertical-align: -0.768ex;"><defs><path stroke-width="0" id="E25-MJMATHI-57" d="M436 683Q450 683 486 682T553 680Q604 680 638 681T677 682Q695 682 695 674Q695 670 692 659Q687 641 683 639T661 637Q636 636 621 632T600 624T597 615Q597 603 613 377T629 138L631 141Q633 144 637 151T649 170T666 200T690 241T720 295T759 362Q863 546 877 572T892 604Q892 619 873 628T831 637Q817 637 817 647Q817 650 819 660Q823 676 825 679T839 682Q842 682 856 682T895 682T949 681Q1015 681 1034 683Q1048 683 1048 672Q1048 666 1045 655T1038 640T1028 637Q1006 637 988 631T958 617T939 600T927 584L923 578L754 282Q586 -14 585 -15Q579 -22 561 -22Q546 -22 542 -17Q539 -14 523 229T506 480L494 462Q472 425 366 239Q222 -13 220 -15T215 -19Q210 -22 197 -22Q178 -22 176 -15Q176 -12 154 304T131 622Q129 631 121 633T82 637H58Q51 644 51 648Q52 671 64 683H76Q118 680 176 680Q301 680 313 683H323Q329 677 329 674T327 656Q322 641 318 637H297Q236 634 232 620Q262 160 266 136L501 550L499 587Q496 629 489 632Q483 636 447 637Q428 637 422 639T416 648Q416 650 418 660Q419 664 420 669T421 676T424 680T428 682T436 683Z"></path><path stroke-width="0" id="E25-MJMAIN-28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path><path stroke-width="0" id="E25-MJMAINB-72" d="M405 293T374 293T324 312T305 361Q305 378 312 394Q315 397 315 399Q305 399 294 394T266 375T238 329T222 249Q221 241 221 149V62H308V0H298Q280 3 161 3Q47 3 38 0H29V62H98V210V303Q98 353 96 363T83 376Q69 380 42 380H29V442H32L118 446Q204 450 205 450H210V414L211 378Q247 449 315 449H321Q384 449 413 422T442 360Q442 332 424 313Z"></path><path stroke-width="0" id="E25-MJMAIN-20D7" d="M-123 694Q-123 702 -118 708T-103 714Q-93 714 -88 706T-80 687T-67 660T-40 633Q-29 626 -29 615Q-29 606 -36 600T-53 590T-83 571T-121 531Q-135 516 -143 516T-157 522T-163 536T-152 559T-129 584T-116 595H-287L-458 596Q-459 597 -461 599T-466 602T-469 607T-471 615Q-471 622 -458 635H-99Q-123 673 -123 694Z"></path><path stroke-width="0" id="E25-MJMAIN-2192" d="M56 237T56 250T70 270H835Q719 357 692 493Q692 494 692 496T691 499Q691 511 708 511H711Q720 511 723 510T729 506T732 497T735 481T743 456Q765 389 816 336T935 261Q944 258 944 250Q944 244 939 241T915 231T877 212Q836 186 806 152T761 85T740 35T732 4Q730 -6 727 -8T711 -11Q691 -11 691 0Q691 7 696 25Q728 151 835 230H70Q56 237 56 250Z"></path><path stroke-width="0" id="E25-MJMAIN-2C" d="M78 35T78 60T94 103T137 121Q165 121 187 96T210 8Q210 -27 201 -60T180 -117T154 -158T130 -185T117 -194Q113 -194 104 -185T95 -172Q95 -168 106 -156T131 -126T157 -76T173 -3V9L172 8Q170 7 167 6T161 3T152 1T140 0Q113 0 96 17Z"></path><path stroke-width="0" id="E25-MJMATHI-68" d="M137 683Q138 683 209 688T282 694Q294 694 294 685Q294 674 258 534Q220 386 220 383Q220 381 227 388Q288 442 357 442Q411 442 444 415T478 336Q478 285 440 178T402 50Q403 36 407 31T422 26Q450 26 474 56T513 138Q516 149 519 151T535 153Q555 153 555 145Q555 144 551 130Q535 71 500 33Q466 -10 419 -10H414Q367 -10 346 17T325 74Q325 90 361 192T398 345Q398 404 354 404H349Q266 404 205 306L198 293L164 158Q132 28 127 16Q114 -11 83 -11Q69 -11 59 -2T48 16Q48 30 121 320L195 616Q195 629 188 632T149 637H128Q122 643 122 645T124 664Q129 683 137 683Z"></path><path stroke-width="0" id="E25-MJMAIN-29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#E25-MJMATHI-57" x="0" y="0"></use><use xlink:href="#E25-MJMAIN-28" x="1048" y="0"></use><g transform="translate(1437,0)"><use xlink:href="#E25-MJMAINB-72" x="263" y="0"></use><use xlink:href="#E25-MJMAIN-2192" x="0" y="559"></use></g><use xlink:href="#E25-MJMAIN-2C" x="2437" y="0"></use><use xlink:href="#E25-MJMATHI-68" x="2881" y="0"></use><use xlink:href="#E25-MJMAIN-29" x="3457" y="0"></use></g></svg></span><script type="math/tex">W(\mathbf{\overrightarrow{r}},h)</script>. Naively, to calculate the density of a particular particle would require summing against all other particles, an <span class="MathJax_SVG" tabindex="-1" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="6.103ex" height="2.91ex" viewBox="0 -922.3 2627.6 1252.9" role="img" focusable="false" style="vertical-align: -0.768ex;"><defs><path stroke-width="0" id="E33-MJCAL-4F" d="M308 428Q289 428 289 438Q289 457 318 508T378 593Q417 638 475 671T599 705Q688 705 732 643T777 483Q777 380 733 285T620 123T464 18T293 -22Q188 -22 123 51T58 245Q58 327 87 403T159 533T249 626T333 685T388 705Q404 705 404 693Q404 674 363 649Q333 632 304 606T239 537T181 429T158 290Q158 179 214 114T364 48Q489 48 583 165T677 438Q677 473 670 505T648 568T601 617T528 636Q518 636 513 635Q486 629 460 600T419 544T392 490Q383 470 372 459Q341 430 308 428Z"></path><path stroke-width="0" id="E33-MJMAIN-28" d="M94 250Q94 319 104 381T127 488T164 576T202 643T244 695T277 729T302 750H315H319Q333 750 333 741Q333 738 316 720T275 667T226 581T184 443T167 250T184 58T225 -81T274 -167T316 -220T333 -241Q333 -250 318 -250H315H302L274 -226Q180 -141 137 -14T94 250Z"></path><path stroke-width="0" id="E33-MJMATHI-6E" d="M21 287Q22 293 24 303T36 341T56 388T89 425T135 442Q171 442 195 424T225 390T231 369Q231 367 232 367L243 378Q304 442 382 442Q436 442 469 415T503 336T465 179T427 52Q427 26 444 26Q450 26 453 27Q482 32 505 65T540 145Q542 153 560 153Q580 153 580 145Q580 144 576 130Q568 101 554 73T508 17T439 -10Q392 -10 371 17T350 73Q350 92 386 193T423 345Q423 404 379 404H374Q288 404 229 303L222 291L189 157Q156 26 151 16Q138 -11 108 -11Q95 -11 87 -5T76 7T74 17Q74 30 112 180T152 343Q153 348 153 366Q153 405 129 405Q91 405 66 305Q60 285 60 284Q58 278 41 278H27Q21 284 21 287Z"></path><path stroke-width="0" id="E33-MJMAIN-32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path><path stroke-width="0" id="E33-MJMAIN-29" d="M60 749L64 750Q69 750 74 750H86L114 726Q208 641 251 514T294 250Q294 182 284 119T261 12T224 -76T186 -143T145 -194T113 -227T90 -246Q87 -249 86 -250H74Q66 -250 63 -250T58 -247T55 -238Q56 -237 66 -225Q221 -64 221 250T66 725Q56 737 55 738Q55 746 60 749Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#E33-MJCAL-4F" x="0" y="0"></use><use xlink:href="#E33-MJMAIN-28" x="796" y="0"></use><g transform="translate(1185,0)"><use xlink:href="#E33-MJMATHI-6E" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="#E33-MJMAIN-32" x="848" y="513"></use></g><use xlink:href="#E33-MJMAIN-29" x="2238" y="0"></use></g></svg></span><script type="math/tex">\mathcal{O}(n^2)</script> operation on all particles. This time complexity is prohibitive for real time applications using thousands of particles.</p><p>The smoothing function is only non zero when the particle is within the smoothing radius <span class="MathJax_SVG" tabindex="-1" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.338ex" height="2.147ex" viewBox="0 -790.8 576 924.3" role="img" focusable="false" style="vertical-align: -0.31ex;"><defs><path stroke-width="0" id="E30-MJMATHI-68" d="M137 683Q138 683 209 688T282 694Q294 694 294 685Q294 674 258 534Q220 386 220 383Q220 381 227 388Q288 442 357 442Q411 442 444 415T478 336Q478 285 440 178T402 50Q403 36 407 31T422 26Q450 26 474 56T513 138Q516 149 519 151T535 153Q555 153 555 145Q555 144 551 130Q535 71 500 33Q466 -10 419 -10H414Q367 -10 346 17T325 74Q325 90 361 192T398 345Q398 404 354 404H349Q266 404 205 306L198 293L164 158Q132 28 127 16Q114 -11 83 -11Q69 -11 59 -2T48 16Q48 30 121 320L195 616Q195 629 188 632T149 637H128Q122 643 122 645T124 664Q129 683 137 683Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#E30-MJMATHI-68" x="0" y="0"></use></g></svg></span><script type="math/tex">h</script> of other particles. This lends itself well to optimisation. I have integrated a cache efficient grid to ensure that only particles within <span class="MathJax_SVG" tabindex="-1" style="font-size: 100%; display: inline-block;"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.499ex" height="2.147ex" viewBox="0 -790.8 1076 924.3" role="img" focusable="false" style="vertical-align: -0.31ex;"><defs><path stroke-width="0" id="E35-MJMAIN-32" d="M109 429Q82 429 66 447T50 491Q50 562 103 614T235 666Q326 666 387 610T449 465Q449 422 429 383T381 315T301 241Q265 210 201 149L142 93L218 92Q375 92 385 97Q392 99 409 186V189H449V186Q448 183 436 95T421 3V0H50V19V31Q50 38 56 46T86 81Q115 113 136 137Q145 147 170 174T204 211T233 244T261 278T284 308T305 340T320 369T333 401T340 431T343 464Q343 527 309 573T212 619Q179 619 154 602T119 569T109 550Q109 549 114 549Q132 549 151 535T170 489Q170 464 154 447T109 429Z"></path><path stroke-width="0" id="E35-MJMATHI-68" d="M137 683Q138 683 209 688T282 694Q294 694 294 685Q294 674 258 534Q220 386 220 383Q220 381 227 388Q288 442 357 442Q411 442 444 415T478 336Q478 285 440 178T402 50Q403 36 407 31T422 26Q450 26 474 56T513 138Q516 149 519 151T535 153Q555 153 555 145Q555 144 551 130Q535 71 500 33Q466 -10 419 -10H414Q367 -10 346 17T325 74Q325 90 361 192T398 345Q398 404 354 404H349Q266 404 205 306L198 293L164 158Q132 28 127 16Q114 -11 83 -11Q69 -11 59 -2T48 16Q48 30 121 320L195 616Q195 629 188 632T149 637H128Q122 643 122 645T124 664Q129 683 137 683Z"></path></defs><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="#E35-MJMAIN-32" x="0" y="0"></use><use xlink:href="#E35-MJMATHI-68" x="500" y="0"></use></g></svg></span><script type="math/tex">2h</script> are considered.</p><p>Particles in SPH are discrete. In order to draw a contiguous surface, a mesh must be generated. I have implemented a marching squares algorithm, which produces a mesh by evaluating the density field of the fluid.</p><h2><a name='header-n8' class='md-header-anchor '></a>Features</h2><ul><li>Written in modern C++: use of RAII, smart pointers, platform independent threads and mutexes</li><li>OpenGL renderer using geometry shader for mesh generation</li><li>2,500 particles at 200 FPS on a Core i7</li></ul></div>
</body>
</html>